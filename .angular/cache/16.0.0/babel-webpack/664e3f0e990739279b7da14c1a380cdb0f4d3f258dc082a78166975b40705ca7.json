{"ast":null,"code":"import * as i0 from \"@angular/core\";\nimport * as i1 from \"@angular/common\";\nimport * as i2 from \"@fullpage/angular-fullpage\";\nimport * as i3 from \"../components/header/header.component\";\nimport * as i4 from \"../components/about-me/about-me.component\";\nimport * as i5 from \"../components/my-projects/my-projects.component\";\nimport * as i6 from \"../components/contact-me/contact-me.component\";\nimport * as i7 from \"../components/loading-screen/loading-screen.component\";\nfunction MainComponent_app_loading_screen_0_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelement(0, \"app-loading-screen\");\n  }\n}\nlet MainComponent = /*#__PURE__*/(() => {\n  class MainComponent {\n    config;\n    fullpageApi;\n    bLoading = true;\n    constructor() {\n      // this is just an example => for more details on config please visit fullPage.js docs\n      this.config = {\n        licenseKey: 'YOUR LICENSE KEY HERE',\n        anchors: ['aboutMe', 'myProjects', 'contactMe'],\n        navigation: true\n      };\n    }\n    onChangeSlide = sName_Slide => {\n      this.fullpageApi.moveTo(sName_Slide);\n    };\n    getActiveSection = () => {\n      if (this.fullpageApi && this.fullpageApi.getActiveSection()) {\n        return this.fullpageApi.getActiveSection();\n      } else {\n        return {};\n      }\n    };\n    ngOnInit() {}\n    ngAfterViewInit() {\n      this.trackImagesLoading();\n    }\n    trackImagesLoading() {\n      const images = document.querySelectorAll('img');\n      let loadedImagesCount = 0;\n      const totalImages = images.length;\n      console.log('images', images);\n      console.log('totalImages', totalImages);\n      if (totalImages === 0) {\n        this.onAllImagesLoaded();\n        return;\n      }\n      const onImageLoad = entry => {\n        if (entry.isIntersecting) {\n          const img = entry.target;\n          console.log('img', img);\n          if (img.complete) {\n            loadedImagesCount++;\n            console.log('loadedImagesCount', loadedImagesCount);\n            console.log('totalImages', totalImages);\n            if (loadedImagesCount === totalImages - 1) {\n              this.onAllImagesLoaded();\n            }\n            observer.unobserve(img);\n          }\n        }\n      };\n      const observer = new IntersectionObserver(entries => {\n        entries.forEach(onImageLoad);\n      });\n      images.forEach(img => observer.observe(img));\n    }\n    onAllImagesLoaded() {\n      console.log('All images have been loaded.');\n      this.bLoading = false;\n      // Perform actions after all images have loaded\n    }\n\n    getRef(fullPageRef) {\n      this.fullpageApi = fullPageRef;\n    }\n    static ɵfac = function MainComponent_Factory(t) {\n      return new (t || MainComponent)();\n    };\n    static ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n      type: MainComponent,\n      selectors: [[\"app-main\"]],\n      decls: 9,\n      vars: 9,\n      consts: [[4, \"ngIf\"], [3, \"getActiveSection\", \"hidden\", \"onChangeSlide\"], [\"fullpage\", \"\", \"id\", \"fullpage2\", 3, \"options\", \"hidden\", \"ref\"], [1, \"section\"], [1, \"section__component\", 3, \"onChangeSlide\"]],\n      template: function MainComponent_Template(rf, ctx) {\n        if (rf & 1) {\n          i0.ɵɵtemplate(0, MainComponent_app_loading_screen_0_Template, 1, 0, \"app-loading-screen\", 0);\n          i0.ɵɵelement(1, \"app-header\", 1);\n          i0.ɵɵelementStart(2, \"div\", 2);\n          i0.ɵɵlistener(\"ref\", function MainComponent_Template_div_ref_2_listener($event) {\n            return ctx.getRef($event);\n          });\n          i0.ɵɵelementStart(3, \"div\", 3);\n          i0.ɵɵelement(4, \"app-about-me\", 4);\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(5, \"div\", 3);\n          i0.ɵɵelement(6, \"app-my-projects\", 4);\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(7, \"div\", 3);\n          i0.ɵɵelement(8, \"app-contact-me\", 4);\n          i0.ɵɵelementEnd()();\n        }\n        if (rf & 2) {\n          i0.ɵɵproperty(\"ngIf\", ctx.bLoading);\n          i0.ɵɵadvance(1);\n          i0.ɵɵproperty(\"getActiveSection\", ctx.getActiveSection)(\"hidden\", ctx.bLoading)(\"onChangeSlide\", ctx.onChangeSlide);\n          i0.ɵɵadvance(1);\n          i0.ɵɵproperty(\"options\", ctx.config)(\"hidden\", ctx.bLoading);\n          i0.ɵɵadvance(2);\n          i0.ɵɵproperty(\"onChangeSlide\", ctx.onChangeSlide);\n          i0.ɵɵadvance(2);\n          i0.ɵɵproperty(\"onChangeSlide\", ctx.onChangeSlide);\n          i0.ɵɵadvance(2);\n          i0.ɵɵproperty(\"onChangeSlide\", ctx.onChangeSlide);\n        }\n      },\n      dependencies: [i1.NgIf, i2.FullpageDirective, i3.HeaderComponent, i4.AboutMeComponent, i5.MyProjectsComponent, i6.ContactMeComponent, i7.LoadingScreenComponent],\n      styles: [\".section[_ngcontent-%COMP%]{text-align:center;font-size:3em;background:url(/assets/image/bg_black.jpg);background-size:cover}.section__component[_ngcontent-%COMP%]{width:100%;height:100%}\"]\n    });\n  }\n  return MainComponent;\n})();\nexport { MainComponent };","map":null,"metadata":{},"sourceType":"module","externalDependencies":[]}